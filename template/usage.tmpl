<html>
<head>
<title>使用指南</title>
</head>
<body>
使用模式：
<ul>
<li><b>DNS</b> 模式：设置 DNS 服务器为 {{.IP}}，然后通过管理页面管理 DNS 解析和 HTTP 代理行为
  <ul><li>管理域名的解析行为，比如指向测试服务器，或者指向 asuran 本身（asuran 会自动代理请求）
      <li>管理 URL 的代理行为，查看代理请求历史等等
  </ul>
<li><b>HTTP</b> 代理模式：为设备的应用或系统设置代理服务器（代理服务器地址：{{.IP}}，端口 80）
  <ul><li>此模式会代理所有的网络请求（DNS 模式可以只代理必须的服务器），对端口兼容性好
      <li>域名管理和 URL 管理依然有效，与 DNS 模式基本一致
  </ul>
<li><b>WiFi</b> 模式：连接测试专用 WiFi，由代理直接分配 DNS，其他同 DNS 模式
</ul>

操作步骤：
<ol>
<li>准备
  <ul><li>一款可联网的待测试设备，手机、平板或者台式机、笔记本均可
      <li>[可选]一台 PC 用来管理这台测试设备的代理设置（以下 PC 均指此管理设备）
  </ul>
<li><b>设置测试设备</b>
  <ul><li>连接 asuran 测试专用 WiFi（如果有的话）
      <li>或，设置 DNS 域名服务器为服务器 IP（{{.IP}}）
      <li>或，设置 HTTP 代理服务器为 IP：{{.IP}}，端口：80
  </ul>
  检查测试设备是否可以上网。如果网络与 asuran 没有问题，上网应该没有问题的
<li><b>初始化代理</b><sub>（下面二选一即可）</sub>
  <ul><li>从测试设备访问 <u>http://i.me/</u>（地址栏输入域名 i.me 即可）。但是注意不要使用网络加速的浏览器（如 UC）。<br/>
          访问成功，会显示一条管理链接，可以在 PC 上访问，以管理测试设备的代理设置。如下图：<br/>
          <img src="/res/i.me.png" border="1"/>
      <li>或，获取测试设备 IP 地址，从管理 PC 上访问 <u>http://{{.Host}}/profile/&lt;<i>设备IP</i>&gt;</u> 直接管理（配置）测试设备
  </ul>
<li><b>配置页面</b><br/>对域名和 URL 的管理页面大概见<a href="/res/profile.png">例图</a>。对代理的设置以“<a href="/profile/commands" target="_blank">命令</a>”方式执行，不便之处敬请见谅。<br/>命令分为对域名和对 URL 进行操作的两种。搭配使用就可以定义测试设备的代理行为了。<br/>在命令导航中填写参数，点左边的按钮生成命令，再“执行命令”就可以执行设置了<br/>
<li>启动应用程序，操作各种功能
<li><b>查看历史</b><br/>使用上面配置页面上方的“查看日志”（或者 <u>http://{{.Host}}/profile/&lt;<i>设备IP</i>&gt;/history</u>），可以查看：
  <ul><li>应用查询的域名。如果域名被重定向，则还会显示目标 IP
      <li>应用被代理的 URL 请求，及其访问方法和返回代码。另外可以查看请求的 HTTP Headers 等详情和 URL 的历史
  </ul>
</ol>
</body>
</html>
